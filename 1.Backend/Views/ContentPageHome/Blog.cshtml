@model PT.Domain.Model.ContentPage
@addTagHelper *, PT.UI
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer  Localizer
@inject ICategoryRepository _iCategoryRepository;
@inject IContentPageReferenceRepository _iContentPageReferenceRepository;
@using PT.Shared;
@using PT.UI.Models
@{
    Layout = "~/Views/Shared/_Home.cshtml";
    string language = PT.Base.CultureHelper.GetCurrentCulture.Id;
    var listCategory = await _iCategoryRepository.CurrentTreeContent(Model.Id, new List<CategoryType> { CategoryType.CategoryBlog });
    var category = listCategory.LastOrDefault();

    var tinLienQuanModel = new ContentPageComponentModel()
    {
        CategoryId = category?.CategoryId,
        ContentPageId = 0,
        Href = "",
        Language = language,
        TagId = null,
        Take = 6,
        Title = "",
        Type = CategoryType.Blog,
        View = "_NewInBlogDetail"
    };
}

<main class="main">

    <!-- breadcrumb -->
    <div class="site-breadcrumb" style="background: url(assets/img/cta/01.jpg)">
        <div class="container">
            <h2 class="breadcrumb-title">@category?.CategoryName</h2>
            <ul class="breadcrumb-menu">
                <li><a href="/">Trang chủ</a></li>
                <li class="active">@category?.CategoryName</li>
            </ul>
        </div>
    </div>
    <!-- breadcrumb end -->
    <!-- blog single area -->
    <div class="blog-single-area pt-120 pb-120">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="blog-single-wrapper">
                        <div class="blog-single-content">
                            <div class="blog-thumb-img">
                                <img src="@Model.Banner" style="width:100%;" alt="thumb">
                            </div>
                            <div class="blog-info">
                                <div class="blog-meta">
                                    <div class="blog-meta-left">
                                        <ul>
                                            <li><i class="far fa-user"></i><a>@Model.Author</a></li>
                                            <li><i class="far fa-times"></i>@Model.DatePosted.ToString("HH:mm dd/MM/yyyy")</li>
                                        </ul>
                                    </div>
                                </div>

                                <h1 class="blog-details-title mb-20">@Model.Name</h1>

                                <div class="blog-details">
                                    @Html.Raw(Model.Content)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <aside class="sidebar">

                        @* <vc:view-module code="ChiTietTinTuc_DanhMucSanPham" type="Menu"></vc:view-module> *@

                        <div class="widget recent-post">
                            <h5 class="widget-title">Bài viết liên quan</h5>
                            <vc:content-page model="tinLienQuanModel"></vc:content-page>
                        </div>
                       
                    </aside>
                </div>
            </div>
        </div>
    </div>
</main>
