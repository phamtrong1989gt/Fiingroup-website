@model PT.Domain.Model.PaymentTransaction
@addTagHelper *, PT.UI
@using Microsoft.AspNetCore.Mvc.Localization;
@using PT.Shared;
@inject IViewLocalizer Localizer
@inject ICategoryRepository _iCategoryRepository;
@inject IContentPageReferenceRepository _iContentPageReferenceRepository;
@inject Microsoft.Extensions.Options.IOptions<List<WebsiteInfoSettings>> websiteInfoSettings
@{
    Layout = "~/Views/Shared/_Home.cshtml";
}

<div class="search-overlay">
    <div class="d-table">
        <div class="d-table-cell">
            <div class="search-overlay-layer"></div>
            <div class="search-overlay-layer"></div>
            <div class="search-overlay-layer"></div>
            <div class="search-overlay-close">
                <span class="search-overlay-close-line"></span>
                <span class="search-overlay-close-line"></span>
            </div>
            <div class="search-overlay-form">
                <form>
                    <input type="text" class="input-search" placeholder="Search here...">
                    <button type="button"><i class="fas fa-search"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Common Banner Area -->
<section id="common_banner">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="common_bannner_text">
                    <h2>Booking Confirmation</h2>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><span><i class="fas fa-circle"></i></span> Booking</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="tour_booking_submission" class="section_padding">
    <div class="container">
        <div class="tour_booking_form_box mb-4">
            <div class="booking_success_arae">
                <div class="booking_success_img">
                    <img src="/assets/img/icon/right.png" alt="img">
                </div>
                <div class="booking_success_text">
                    <h3>@Model.FullName, your order was submitted successfully!</h3>
                    <h6>Your booking details has been sent to: @Model.Email</h6>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8">
                <div class="tou_booking_form_Wrapper">
                  
                    <div class="booking_tour_form">
                      
                        <div class="tour_booking_form_box">
                            <div class="tour_details_right_box_heading">
                                <h3>Customer details</h3>
                            </div>
                            <div style="height:20px;"></div>
                            <div class="your_info_arae">
                                <ul>
                                    <li><span class="name_first">Full Name:</span> <span class="last_name">@Model.FullName</span></li>
                                    <li><span class="name_first">Email address:</span> <span class="last_name">@Model.Email</span></li>
                                    <li><span class="name_first">Phone:</span> <span class="last_name">@Model.Phone</span></li>
                                    <li><span class="name_first">Note:</span> <span class="last_name">@Model.Note</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="tour_details_right_sidebar_wrapper">
                    <div class="tour_detail_right_sidebar">
                        <div class="tour_details_right_boxed">
                            <div class="tour_details_right_box_heading">
                                <h3>Booking details</h3>
                            </div>
                        
                            <div class="tour_booking_amount_area">
                                <ul>

                                    <li>Booking ID: <span>@Model.Code</span></li>
                                    @if(Model.Tour?.Style== TourStyle.Car)
                                    {
                                        <li>Pick date: <span>@Model.StartDate.ToString("yyyy/MM/dd")</span></li>
                                        <li>Pick Up: <span>@Model.PicUp</span></li>
                                    }
                                    else
                                    {
                                    <li>Pick date: <span>@Model.StartDate.ToString("yyyy/MM/dd")</span></li>
                                    }
                                    @if(Model.Type == EPaymentTransactionType.Paypal)
                                    {
                                        <li>Payment method: <span>Paypal transfer</span></li>
                                        <li>Booking status: <span>@(Model.Status == EPaymentTransactionStatus.ThanhCong ? "Success": "---")</span></li>
                                    }
                                    else
                                    {
                                        <li>Payment method: <span>Booking</span></li>
                                        <li>Booking status: <span>Unpaid</span></li>
                                    }
                                </ul>
                                <ul>
                                    <li>Service: <strong>@Model.Tour?.Name</strong></li>
                                    <li>Service Type: <strong>@Model.Tour?.Style.GetDisplayName()</strong></li>
                                    @if(Model.Tour?.Style == TourStyle.Hotel)
                                    {
                                        <li>Price:  <span>@Model.Adult (Rooms) x @((Model.EndDate.Date - Model.StartDate.Date).TotalDays)(nights) x @Model.AdultPrice</span>  </li>
                                    }
                                    else
                                    {
                                        <li>Adult Price x @Model.Adult <span>$ @(Model.AdultPrice * Model.Adult)</span></li>
                                        <li>Infant Price x @Model.Infant <span>$ @(Model.InfantPrice * Model.Infant)</span></li>
                                        <li>Children Price x @Model.Children <span>$ @(Model.ChildrenPrice * Model.Children)</span></li>
                                    }
                                </ul>
                            
                                <div class="total_subtotal_booking">
                                    <h6 class="remove_coupon_tour">Total Amount <span>$ @Model.Total</span> </h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

